酒店家具尺寸计算及海运费用管理系统  
KD包装体积计算器模块开发计划书

当前日期：2026年2月10日  
模块名称：KD包装体积计算器  
所属系统：酒店家具尺寸计算及海运费用管理系统  
开发范围：将用户提供的单文件 HTML 计算器原原本本还原为 Flask 项目中的一个前端页面

1. 目标

将用户提供的完整单文件 HTML 计算器（包含全部内联样式与内联 JavaScript）  
忠实还原为 Flask 项目中的一个独立前端页面。  

功能、交互、计算逻辑、输出格式、提示文案、按钮文字必须与原版 100% 一致。  
本次开发不增加、不删除、不修改任何原有功能和细节。

2. 页面基本信息

页面标题：酒店包装体积计算器  
副标题：手机大字版 · 26品类 · 一键复制Excel · 2025版  

包含的输入项：
- 产品名称/房号（文本输入）
- 型号规格（文本输入）
- 品类选择（下拉菜单，26 项，使用 optgroup 分组）
- 宽度 W (mm)
- 深度 D (mm)
- 高度 H (mm)
- 包装方式（下拉：KD平板包装 / 门+木架包装 / 散件+木架 / 全木箱）
- KD压薄程度（下拉：标准KD / 压紧版 / 极致压薄，仅 KD 有效）

包含的操作按钮：
- 计算并记录
- 清空记录
- 复制到Excel

包含的显示区域：
- 当前计算结果（产品名称+型号、体积、外箱尺寸、建议报立方）
- 历史记录表格（最多 10 条）
- 总立方数汇总
- 记录满 10 条时的红色警告提示

3. 必须完整保留的特性

计算逻辑：
- 全部 26 个品类的默认尺寸预设
- 特殊品类的包装规则（成品床、背景墙类、淋浴房玻璃、马桶、踢脚线等）
- KD 包装三种压薄厚度（55/38/22）+镜柜额外 -30mm 处理
- 建议报体积的加成规则（KD +0.02，其他 +0.08 / +0.05）
- 体积保留三位小数，外箱尺寸四舍五入取整

交互行为：
- 选择品类后自动填充默认尺寸
- 点击“计算并记录”后显示当前结果并加入表格
- 记录最多保留 10 条，超出时自动移除最早一条
- 复制到 Excel 生成制表符分隔文本（表头、字段顺序、数值格式与原版完全一致）
- 复制成功后显示 3 秒“已复制！”提示
- 点击“清空记录”弹出 confirm 确认对话框

视觉与体验：
- 保留原有网格布局、按钮分组、手机大字风格
- 保留所有颜色变量使用（--acc, --red, --green, --yellow 等）
- 保留表格横向滚动、满 10 条警告等细节

4. 模板文件命名

模板文件名：kd_calculator.html

5. 关于样式文件

原页面包含一行：
<link rel="stylesheet" href="style.css">

确认：
- 该 style.css 文件真实存在
- 继承系统设置

6. 验收标准

- 全部 26 个品类默认尺寸填充正确
- 所有特殊品类计算结果与原版相同
- KD 三种压薄方式体积差异正确体现
- 记录列表最多 10 条，超出自动移除最早记录
- 复制到 Excel 的文本内容（表头、字段顺序、数值格式）与原版完全一致
- 清空记录时弹出确认对话框
- 手机竖屏打开时无严重布局错位，操作流畅

7. 备注

本次开发范围仅限于：
将用户提供的 HTML 内容放入 kd_calculator.html 模板，  
保留原有内联样式与内联脚本（或按原样引用 style.css），  
确保页面在 Flask 中能够正常渲染并完整实现原有功能。