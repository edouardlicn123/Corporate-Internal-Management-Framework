{% extends "base.html" %}

{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/frame.css', _external=True) }}?v={{ '' | timestamp }}">
{% endblock %}

{% block content %}
<div class="d-flex flex-column vh-100">
  <div class="d-flex flex-grow-1 overflow-hidden">

    <!-- 左侧导航栏（系统管理专属 sidebar） -->
    <nav class="admin-sidebar flex-shrink-0 d-none d-md-block bg-surface border-end"
         style="width: 240px; min-width: 240px;">
      <div class="h-100 overflow-auto">
        <div class="position-sticky top-0 p-3">
          <ul class="nav flex-column mb-auto">
            <li class="nav-item">
              <a class="nav-link d-flex align-items-center py-3 px-3 rounded {{ 'active' if active_section == 'settings' else '' }}" 
                 href="{{ url_for('admin.system_settings') }}">
                <i class="bi bi-gear me-3 fs-5"></i>
                系统基本设置
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link d-flex align-items-center py-3 px-3 rounded {{ 'active' if active_section == 'users' else '' }}" 
                 href="{{ url_for('admin.system_users') }}">
                <i class="bi bi-people me-3 fs-5"></i>
                人员管理
              </a>
            </li>
            <!-- 后续模块可在此继续添加 -->
          </ul>
        </div>
      </div>
    </nav>

    <!-- 右侧主内容区 -->
    <main class="flex-grow-1 overflow-auto bg-body px-4 pt-4 pb-5">
      <!-- 标题行：统一风格 -->
      <div class="d-flex justify-content-between align-items-center mb-4 border-bottom pb-3 flex-nowrap">
        <h1 class="h2 mb-0 flex-grow-1 pe-3">
          {% block admin_title %}{% endblock %}
        </h1>
        <div class="ms-auto ps-4">
          {% block admin_title_buttons %}{% endblock %}
        </div>
      </div>

      <!-- 子页面实际内容 -->
      {% block admin_content %}{% endblock %}
    </main>
  </div>
</div>
{% endblock %}
