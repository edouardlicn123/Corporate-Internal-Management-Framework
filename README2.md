# Corporate Internal Management Framework

这是一个面向企业内部使用的**轻量级业务管理系统基础框架**，最初为酒店家具出口业务场景设计，现作为通用内部管理系统的基础源代码进行维护与扩展。

当前定位：**稳定、可控、可长期迭代的内部业务底座**  
目标使用者：内部开发团队、运维人员、业务部门负责人

## 核心设计目标（作为基础代码库）

- 极低的维护门槛：技术栈克制、依赖少、分层清晰
- 业务规则与框架代码高度解耦：便于替换计算逻辑、增加新模块
- 支持快速添加新业务场景：路由 + 服务 + 模板的标准化模式
- 生产环境安全底线清晰：强制检查、日志规范、配置外置
- 前后端资产统一管理：主题、样式类、组件参考文档集中维护
- 开发体验友好：一键脚本、调试信息、环境差异化处理

## 架构分层与扩展友好点

1. **路由层**（app/routes/*.py）  
   薄路由设计，仅负责：接收请求 → 简单校验 → 调用服务 → 组织响应  
   新增页面/接口时只需新增蓝图文件 + 路由函数，业务逻辑完全外置。

2. **服务层**（app/services/*.py）  
   核心业务能力独立封装，目前包含用户管理、系统设置、计算服务等  
   后续新增任何业务模块（订单、库存、审批、报表等）都建议放在此层  
   便于编写单元测试、Mock、规则热更新

3. **模型层**（app/models.py）  
   使用 SQLAlchemy 定义核心实体  
   支持单例配置表（SystemSetting）、用户偏好、权限控制基础结构

4. **前端资产管理**  
   - CSS 变量 + 多主题切换机制（运行时生效）  
   - 样式类名统一参考 docs/9css-elements-reference.md  
   - 公共包含文件（header/footer/nav/js 等）已标准化  
   新页面开发时复用现有组件可大幅降低样式冲突

5. **配置与安全**  
   - 环境变量优先级最高（SECRET_KEY、数据库等敏感项强制外置）  
   - 生产环境强制安全检查（密钥长度、debug 禁用等）  
   - 日志统一使用 app.logger + 文件轮转，便于后续接入监控

## 技术栈（刻意保持简单）

- Python 3.10+ / Flask  
- SQLAlchemy + SQLite（开发）→ PostgreSQL（生产推荐）  
- Flask-Login + Flask-WTF + Flask-Migrate（可选）  
- Jinja2 + Bootstrap 5 + 纯 CSS 变量主题系统  
- 无复杂前端构建链路、无 Node.js 依赖

## 作为基础代码库的使用建议

1. **先跑通基础环境**  
   ```bash
   ./run.sh    # 推荐：交互菜单
   # 或手动：
   python init_schema.py --with-data
   python run.py
