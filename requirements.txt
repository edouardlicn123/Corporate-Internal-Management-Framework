# ───────────────────────────────────────────────
# 核心 Flask 及其扩展（保持最新稳定版，严格范围）
# ───────────────────────────────────────────────
flask>=3.0.3,<3.1.0
flask-login>=0.6.3,<0.7.0
flask-sqlalchemy>=3.1.1,<3.2.0
flask-wtf>=1.2.1,<1.3.0
flask-migrate>=4.0.7,<5.0.0          # 数据库迁移（必须，用于 flask db 命令）
werkzeug>=3.0.3,<3.1.0               # Flask 核心依赖，显式固定防降级

# ───────────────────────────────────────────────
# 表单与 CSRF / 邮箱验证（必须）
# ───────────────────────────────────────────────
wtforms>=3.1.2,<3.2.0
email-validator>=2.1.0,<3.0.0        # 邮箱格式验证（Flask-WTF 必须依赖）

# ───────────────────────────────────────────────
# 数据库迁移依赖（显式列出，避免版本冲突）
# ───────────────────────────────────────────────
alembic>=1.13.1,<2.0.0               # flask-migrate 依赖

# ───────────────────────────────────────────────
# 环境变量 & 配置
# ───────────────────────────────────────────────
python-dotenv>=1.0.1,<2.0.0

# ───────────────────────────────────────────────
# 业务常用（办公文件、导出 Excel 等）
# ───────────────────────────────────────────────
openpyxl>=3.1.5,<3.2.0               # Excel 处理（后续导出计算结果用）

# ───────────────────────────────────────────────
# 配置解析（TOML 支持，可选但常用）
# ───────────────────────────────────────────────
toml>=0.10.2,<0.11.0

# ───────────────────────────────────────────────
# 开发 / 测试 / 代码质量工具（建议移到 requirements-dev.txt）
# ───────────────────────────────────────────────
# pytest>=8.3.0,<9.0.0
# pytest-flask>=1.3.0,<2.0.0
# pytest-cov>=5.0.0,<6.0.0
# black>=24.8.0,<25.0.0
# isort>=5.13.2,<6.0.0
# flake8>=7.1.0,<8.0.0
# mypy>=1.11.0,<2.0.0
# ruff>=0.6.0,<1.0.0                   # 推荐：可替换 black + isort + flake8

# ───────────────────────────────────────────────
# 可选扩展（当前项目未使用，已全部注释）
# ───────────────────────────────────────────────
# flask-mail>=0.10.0                  # 邮件发送（密码重置、通知）
# celery>=5.4.0                       # 异步任务（邮件、计算密集型）
# redis>=5.0.8                        # Celery 后端
# sqlalchemy-utils>=0.41.2            # 额外字段类型（如 EmailType）
# pillow>=10.4.0                      # 图片处理（如果有上传头像）
